# üéâ –ò–î–ï–ê–õ–¨–ù–´–ô –ì–û–¢–û–í–´–ô –ú–ê–ì–ê–ó–ò–ù-–ë–û–¢

## ‚ú® –ß—Ç–æ —ç—Ç–æ?

**–ü–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ** - –æ–¥–∏–Ω —Ñ–∞–π–ª `perfect_shop_bot.py` —Å–æ–¥–µ—Ä–∂–∏—Ç:
- ü§ñ Telegram –±–æ—Ç (long polling)
- üåê HTTP –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –¥–ª—è WebApp
- üì¶ –û–±—Ä–∞–±–æ—Ç–∫—É –∑–∞–∫–∞–∑–æ–≤ —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏ –∞–¥–º–∏–Ω—É
- üíæ –ë–∞–∑—É –¥–∞–Ω–Ω—ã—Ö SQLite
- üé® –ö—Ä–∞—Å–∏–≤—ã–π —Ç–µ–º–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å WebApp

**–í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –∫–æ—Ä–æ–±–∫–∏!** –ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∏ –≥–æ—Ç–æ–≤–æ!

---

## üöÄ –ë–´–°–¢–†–´–ô –ó–ê–ü–£–°–ö (3 –∫–æ–º–∞–Ω–¥—ã)

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
pip3 install requests

# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
export BOT_TOKEN='–≤–∞—à_—Ç–æ–∫–µ–Ω_–æ—Ç_BotFather'

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ!
python3 perfect_shop_bot.py
```

**–ì–æ—Ç–æ–≤–æ!** –ù–∞–ø–∏—à–∏—Ç–µ –±–æ—Ç—É `/start` –∏ –Ω–∞–∂–º–∏—Ç–µ "–û—Ç–∫—Ä—ã—Ç—å –º–∞–≥–∞–∑–∏–Ω" üõçÔ∏è

---

## üì¶ –ü–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

–ï—Å–ª–∏ —É –≤–∞—Å —É–∂–µ –∑–∞–ø—É—â–µ–Ω –±–æ—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ä—ã–π –±–æ—Ç
pkill -f "python.*perfect_shop_bot.py" || pkill -f "python.*main.py"

# –ü–æ–ª—É—á–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
git pull origin main

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –Ω–æ–≤—ã–π –±–æ—Ç
nohup python3 perfect_shop_bot.py > /dev/null 2>&1 &

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
tail -f logs/shop_bot.log
```

**–û–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π:**
```bash
pkill -f python.*perfect_shop_bot.py; git pull origin main && nohup python3 perfect_shop_bot.py > /dev/null 2>&1 & tail -f logs/shop_bot.log
```

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –¢–æ–∫–µ–Ω –±–æ—Ç–∞

**–í–∞—Ä–∏–∞–Ω—Ç –ê - –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
```bash
export BOT_TOKEN='123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11'
```

**–í–∞—Ä–∏–∞–Ω—Ç –ë - –§–∞–π–ª .env:**
```bash
echo "BOT_TOKEN=123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11" > .env
source .env
```

**–í–∞—Ä–∏–∞–Ω—Ç –í - –í –∫–æ–¥–µ (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**
–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `perfect_shop_bot.py`:
```python
BOT_TOKEN = '123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11'
```

### 2. ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

–í —Ñ–∞–π–ª–µ `perfect_shop_bot.py` –Ω–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É:
```python
ADMIN_IDS = [1593426947]  # –í–∞—à ID
```

–ó–∞–º–µ–Ω–∏—Ç–µ `1593426947` –Ω–∞ –≤–∞—à Telegram ID.

**–ö–∞–∫ —É–∑–Ω–∞—Ç—å —Å–≤–æ–π ID:**
1. –ù–∞–ø–∏—à–∏—Ç–µ –±–æ—Ç—É @userinfobot
2. –ò–ª–∏ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤ –ª–æ–≥–∞—Ö –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ `/start`

### 3. –ü–æ—Ä—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–æ—Ä—Ç `8080`. –ß—Ç–æ–±—ã –∏–∑–º–µ–Ω–∏—Ç—å:
```bash
export PORT=8000
```

---

## üì¶ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤

### –°–ø–æ—Å–æ–± 1 - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ JSON

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `webapp/products.json`:

```json
[
  {
    "id": 1,
    "title": "–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞",
    "description": "–û–ø–∏—Å–∞–Ω–∏–µ",
    "price": 1999,
    "photo": "/webapp/uploads/default.jpg",
    "sizes": ["S", "M", "L"],
    "is_active": true
  }
]
```

### –°–ø–æ—Å–æ–± 2 - –ß–µ—Ä–µ–∑ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

```bash
sqlite3 shop.db
INSERT INTO products (title, description, price, is_active) 
VALUES ('–ù–æ–≤—ã–π —Ç–æ–≤–∞—Ä', '–û–ø–∏—Å–∞–Ω–∏–µ', 2999, 1);
.exit
```

---

## üéØ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å** –ø–∏—à–µ—Ç –±–æ—Ç—É `/start`
2. –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–Ω–æ–ø–∫—É "–û—Ç–∫—Ä—ã—Ç—å –º–∞–≥–∞–∑–∏–Ω" —Å WebApp
3. **–û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è WebApp** - –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –æ—Ç–¥–∞–µ—Ç HTML
4. WebApp –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ç–æ–≤–∞—Ä—ã —á–µ—Ä–µ–∑ API `/api/products`
5. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–±–∞–≤–ª—è–µ—Ç** —Ç–æ–≤–∞—Ä—ã –≤ –∫–æ—Ä–∑–∏–Ω—É
6. –ù–∞–∂–∏–º–∞–µ—Ç "–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑"
7. **WebApp –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç** –¥–∞–Ω–Ω—ã–µ –±–æ—Ç—É —á–µ—Ä–µ–∑ `Telegram.WebApp.sendData()`
8. **–ë–æ—Ç –ø–æ–ª—É—á–∞–µ—Ç –∑–∞–∫–∞–∑** –∏:
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
   - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É
   - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –∫–ª–∏–µ–Ω—Ç—É

---

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ó–∞–∫–∞–∑—ã –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. –í–∞—à ID –≤ `ADMIN_IDS` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π?
   ```bash
   grep "ADMIN_IDS" perfect_shop_bot.py
   ```

2. –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç?
   ```bash
   ps aux | grep perfect_shop_bot.py
   ```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
   ```bash
   tail -50 logs/shop_bot.log
   ```

4. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç–µ WebApp —á–µ—Ä–µ–∑ –±–æ—Ç–∞, –∞ –Ω–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ?

### WebApp –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç:
   ```bash
   netstat -an | grep 8080
   ```

3. –î–ª—è Replit –Ω—É–∂–µ–Ω –ø—É–±–ª–∏—á–Ω—ã–π URL

### –¢–æ–≤–∞—Ä—ã –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª `webapp/products.json`:
   ```bash
   cat webapp/products.json
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç JSON:
   ```bash
   python3 -m json.tool webapp/products.json
   ```

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
```bash
tail -f logs/shop_bot.log
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞
```bash
ps aux | grep perfect_shop_bot.py
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```bash
sqlite3 shop.db "SELECT * FROM orders ORDER BY created_at DESC LIMIT 5;"
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–∫–∞–∑–æ–≤
```bash
sqlite3 shop.db "SELECT id, user_name, total, status, created_at FROM orders;"
```

---

## üåê –î–ª—è Replit

1. **–°–æ–∑–¥–∞–π—Ç–µ Repl** (Python)

2. **–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª** `perfect_shop_bot.py`

3. **–î–æ–±–∞–≤—å—Ç–µ Secret:**
   - Key: `BOT_TOKEN`
   - Value: –≤–∞—à —Ç–æ–∫–µ–Ω

4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ:**
   ```bash
   python3 perfect_shop_bot.py
   ```

5. **URL –¥–ª—è WebApp:** `https://–≤–∞—à-repl.username.repl.co/webapp/`

---

## üéÅ –ë–æ–Ω—É—Å - –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –±–æ—Ç–∞
```bash
pkill -f perfect_shop_bot.py && nohup python3 perfect_shop_bot.py > /dev/null 2>&1 &
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ—Ç–∞
```bash
pkill -f perfect_shop_bot.py
```

### –û—á–∏—Å—Ç–∫–∞ –ª–æ–≥–æ–≤
```bash
> logs/shop_bot.log
```

### –ë—ç–∫–∞–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```bash
cp shop.db shop_backup_$(date +%Y%m%d).db
```

### –≠–∫—Å–ø–æ—Ä—Ç –∑–∞–∫–∞–∑–æ–≤ –≤ CSV
```bash
sqlite3 shop.db -csv -header "SELECT * FROM orders;" > orders.csv
```

---

## ‚úÖ –ß—Ç–æ –ø–æ–ª—É—á–∏–ª–æ—Å—å

- ‚úÖ **–û–¥–∏–Ω —Ñ–∞–π–ª** - –ª–µ–≥–∫–æ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å
- ‚úÖ **–ú–∏–Ω–∏–º—É–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** - —Ç–æ–ª—å–∫–æ `requests`
- ‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ** - Linux, Mac, Windows, Replit
- ‚úÖ **Long polling** - –Ω–µ –Ω—É–∂–µ–Ω webhook
- ‚úÖ **–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä** - –Ω–µ –Ω—É–∂–µ–Ω nginx/apache
- ‚úÖ **–ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É** - –ª–æ–≥–∏, –ë–î, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ **–ö—Ä–∞—Å–∏–≤—ã–π UI** - —Ç–µ–º–Ω–∞—è —Ç–µ–º–∞, –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω
- ‚úÖ **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - –∞–¥–º–∏–Ω —Å—Ä–∞–∑—É —É–∑–Ω–∞–µ—Ç –æ –∑–∞–∫–∞–∑–∞—Ö

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

**–ü—Ä–æ–±–ª–µ–º—ã?** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. –õ–æ–≥–∏: `tail -f logs/shop_bot.log`
2. –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç–∞–µ—Ç: `ps aux | grep perfect_shop_bot`
3. –ü–æ—Ä—Ç —Å–≤–æ–±–æ–¥–µ–Ω: `netstat -an | grep 8080`
4. –¢–æ–∫–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π: `echo $BOT_TOKEN`

**–í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!** –¢–µ–ø–µ—Ä—å —É –≤–∞—Å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω –≤ Telegram! üéâ

---

üí° **–°–æ–≤–µ—Ç:** –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —ç—Ç–æ—Ç README - –≤ –Ω–µ–º –≤—Å–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏!

