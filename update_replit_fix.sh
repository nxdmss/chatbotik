#!/bin/bash
# ะััััะพะต ะพะฑะฝะพะฒะปะตะฝะธะต ะดะปั ะธัะฟัะฐะฒะปะตะฝะธั ะฐะดะผะธะฝ ะฟะฐะฝะตะปะธ ะฒ Replit

echo "๐ง ะะซะกะขะะะ ะะกะะะะะะะะะ ะะะะะ ะะะะะะ ะ REPLIT"
echo "============================================="

# 1. ะะฑะฝะพะฒะปัะตะผ ะฟัะพะตะบั
echo "๐ฅ ะะฑะฝะพะฒะปัะตะผ ะฟัะพะตะบั ะธะท GitHub..."
git pull origin main

# 2. ะััะฐะฝะฐะฒะปะธะฒะฐะตะผ ะฟัะพัะตััั
echo "๐ ะััะฐะฝะฐะฒะปะธะฒะฐะตะผ ััะฐััะต ะฟัะพัะตััั..."
pkill -9 python 2>/dev/null
pkill -9 python3 2>/dev/null
sleep 2

# 3. ะะฐะฟััะบะฐะตะผ ัะตัะฒะตั
echo "๐ ะะฐะฟััะบะฐะตะผ ัะตัะฒะตั..."
python3 perfect_server.py &

# 4. ะะดะตะผ ะทะฐะฟััะบะฐ
sleep 3

# 5. ะัะพะฒะตััะตะผ ัะฐะฑะพัั
echo "โ ะัะพะฒะตััะตะผ ัะฐะฑะพัั ัะตัะฒะตัะฐ..."
if curl -s http://localhost:8000 > /dev/null; then
    echo "โ ะกะตัะฒะตั ัะฐะฑะพัะฐะตั!"
    echo ""
    echo "๐ฏ ะะะขะะะ!"
    echo "๐ ะัะบัะพะนัะต ะฟัะธะปะพะถะตะฝะธะต ะฒ ะฑัะฐัะทะตัะต"
    echo "๐ง ะะดะผะธะฝ ะฟะฐะฝะตะปั ะดะพะปะถะฝะฐ ะฟะพัะฒะธัััั ะฐะฒัะพะผะฐัะธัะตัะบะธ"
    echo "๐ด ะัะปะธ ะฝะตั - ะฝะฐะถะผะธัะต ะบัะฐัะฝัั ะบะฝะพะฟะบั ะฒ ะฟัะฐะฒะพะผ ะฒะตััะฝะตะผ ัะณะปั"
    echo ""
    echo "๐ ะัะพะฒะตัััะต ะบะพะฝัะพะปั ะฑัะฐัะทะตัะฐ (F12) - ะดะพะปะถะฝั ะฑััั ะปะพะณะธ:"
    echo "   ๐ง ะัะปะฐะดะพัะฝัะน ัะตะถะธะผ: Replit/localhost ะพะฑะฝะฐััะถะตะฝ"
    echo "   ๐ ะะดะผะธะฝัะบะธะต ะฟัะฐะฒะฐ ะฟัะตะดะพััะฐะฒะปะตะฝั ะฒ ะพัะปะฐะดะพัะฝะพะผ ัะตะถะธะผะต"
else
    echo "โ ะัะธะฑะบะฐ ะทะฐะฟััะบะฐ ัะตัะฒะตัะฐ"
fi
